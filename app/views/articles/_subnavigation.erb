<% article ||= @article %>
<% blog ||= @blog || article.blog %>
<% author ||= @author || article.author -%>
<%= bread_el author.display_name, author %>
<%= bread_el 'Blogs', blogs_path_from_bloggable(author) %>
<%= bread_el blog.display_name, blog_path_for(blog) %>
<%= bread_el truncate(article.title, 20), article_path_for(article), :current => controller.controller_name == 'articles' if article && !article.new_record? %>

<% if controller.controller_name == 'articles' %>
<%= subnavi_el "New Article", article_path_from_blog(blog, :prefix => :new), :current => controller.action_name == 'new' if blog.editable_by?(get_viewer) && article.nil? %>
<%= subnavi_el "Edit", article_path_for(article, :prefix => :edit), :current => controller.action_name == 'edit' if article && !article.new_record? && article.editable_by?(get_viewer) %>
<%= subnavi_el "Clip", clip_path_from_widgetable(article, :prefix => :new) if article && !article.new_record? && article.published? %>
<% end %>
